/*
 * REF v1 - Référentiel
 * Liste l'ensemble des services et des opérations disponibles dans le module Referentiel
 *
 * The version of the OpenAPI document: 1.0.0
 * 
 *
 * NOTE: This class is auto generated by OpenAPI Generator (https://openapi-generator.tech).
 * https://openapi-generator.tech
 * Do not edit the class manually.
 */

package org.esupportail.referentiel.pcscol.ref;

import java.util.List;
import java.util.Map;

import org.esupportail.referentiel.Siscol;
import org.esupportail.referentiel.pcscol.api.StructureApi;
import org.esupportail.referentiel.pcscol.invoker.ApiException;
import org.esupportail.referentiel.pcscol.ref_api.model.Structure;
import org.esupportail.referentiel.pcscol.services.OffreFormationService;
import org.esupportail.referentiel.pcscol.services.PcscolService;
import org.junit.jupiter.api.Test;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.test.context.SpringBootTest;
import org.springframework.test.context.ActiveProfiles;
import org.springframework.test.context.ContextConfiguration;
import org.springframework.test.context.junit.jupiter.SpringJUnitConfig;

/**
 * API tests for StructureApi
 */
@ContextConfiguration(classes = { Siscol.class })
@SpringBootTest
@SpringJUnitConfig
@ActiveProfiles("test")
public class StructureApiTest {

	@Autowired
	StructureApi structureApi;

	@Autowired
	PcscolService pcScoleService;

	

	/**
	 * Liste des structures disponibles avec informations
	 *
	 * 
	 *
	 * @throws ApiException if the Api call fails
	 */
	@Test
	public void lireListeStructuresTest() throws ApiException {
		List<Structure> response = structureApi.lireListeStructures();

		response.forEach(s -> {
			System.out.println(s.getParent());
		});
	}

	/**
	 * Lire la structure à partir du code structure de Pégase
	 *
	 * 
	 *
	 * @throws ApiException if the Api call fails
	 */
	@Test
	public void lireStructureTest() throws ApiException {
		String codePegase = "ETA010";
		Structure response = structureApi.lireStructure(codePegase);
		System.out.println(response);

		// TODO: test validations
	}

	@Test
	public void testPcscolService() {
		Map<String, String> r = pcScoleService.lireMapStructures();
		System.out.println(r);
	}

}
